<h3>{{ data.isEditMode ? 'Edit Role' : 'Create Role' }}</h3>

<mat-dialog-content>
  <div class="form-group">
    <label for="roleName">Role Name</label>
    <input id="roleName" matInput [(ngModel)]="data.role.name" required>
  </div>

  <h4>Permissions</h4>
  <div class="permissions-grid">
    @for (permission of availablePermissions$ | async; track permission.name) {
      <mat-checkbox [checked]="isPermissionSelected(permission)" (change)="togglePermission(permission, $event)">
        {{ permission.name }}
      </mat-checkbox>
    }
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <app-button mat-button (click)="onNoClick()">Cancel</app-button>
  <app-button mat-flat-button color="primary" [mat-dialog-close]="data.role" [disabled]="!data.role.name">{{ data.isEditMode ? 'Update Role' : 'Create Role' }}</app-button>
</mat-dialog-actions>
